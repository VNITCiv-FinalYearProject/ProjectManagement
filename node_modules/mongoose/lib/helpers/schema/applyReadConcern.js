<<<<<<< HEAD
'use strict';

<<<<<<< HEAD
=======
const get = require('../get');

>>>>>>> temp2
module.exports = function applyReadConcern(schema, options) {
  if (options.readConcern !== undefined) {
    return;
  }

  // Don't apply default read concern to operations in transactions,
  // because you shouldn't set read concern on individual operations
  // within a transaction.
  // See: https://www.mongodb.com/docs/manual/reference/read-concern/
  if (options && options.session && options.session.transaction) {
    return;
  }

<<<<<<< HEAD
  const level = schema.options?.readConcern?.level;
=======
  const level = get(schema, 'options.readConcern.level', null);
>>>>>>> temp2
  if (level != null) {
    options.readConcern = { level };
  }
};
||||||| parent of f2bd84f (added logout option)
=======
'use strict';

const get = require('../get');

module.exports = function applyReadConcern(schema, options) {
  if (options.readConcern !== undefined) {
    return;
  }

  // Don't apply default read concern to operations in transactions,
  // because you shouldn't set read concern on individual operations
  // within a transaction.
  // See: https://www.mongodb.com/docs/manual/reference/read-concern/
  if (options && options.session && options.session.transaction) {
    return;
  }

  const level = get(schema, 'options.readConcern.level', null);
  if (level != null) {
    options.readConcern = { level };
  }
};
>>>>>>> f2bd84f (added logout option)
